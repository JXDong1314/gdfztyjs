# 通用技术刷题系统 - 腾讯云部署说明

## 📋 项目简介

这是一个基于纯静态HTML的通用技术学业水平考试在线刷题系统，包含2021-2024年的A卷和B卷试题。

## 🚀 部署方式

### 方式一：使用腾讯云静态网站托管（推荐）

#### 1. 准备工作

- 注册腾讯云账号：https://cloud.tencent.com/
- 开通云开发服务（CloudBase）
- 安装 CloudBase CLI 工具

#### 2. 安装 CloudBase CLI

```bash
npm install -g @cloudbase/cli
```

#### 3. 登录腾讯云

```bash
cloudbase login
```

按提示完成登录授权。

#### 4. 创建云开发环境

1. 访问 [腾讯云CloudBase控制台](https://console.cloud.tencent.com/tcb)
2. 点击"新建环境"
3. 选择环境名称和计费方式（建议选择按量计费）
4. 记录下环境ID（ENV_ID）

#### 5. 初始化并部署

```bash
# 在项目根目录执行
cloudbase init

# 根据提示选择环境ID

# 部署到云端
cloudbase hosting deploy ./ -e <你的环境ID>
```

或者使用 npm 脚本：

```bash
# 设置环境变量
export ENV_ID=<你的环境ID>  # Linux/Mac
set ENV_ID=<你的环境ID>     # Windows CMD
$env:ENV_ID="<你的环境ID>"  # Windows PowerShell

# 部署
npm run deploy
```

#### 6. 访问网站

部署完成后，CloudBase 会提供一个默认域名，格式如下：
```
https://<env-id>.tcloudbaseapp.com
```

你也可以在控制台绑定自定义域名。

---

### 方式二：使用腾讯云对象存储 COS

#### 1. 创建 COS 存储桶

1. 访问 [COS控制台](https://console.cloud.tencent.com/cos)
2. 创建存储桶（建议选择公有读私有写）
3. 开启静态网站托管功能

#### 2. 上传文件

方法1：使用控制台上传
- 直接在COS控制台上传所有文件
- 设置 index.html 为默认首页

方法2：使用 COSCMD 工具
```bash
# 安装 COSCMD
pip install coscmd

# 配置
coscmd config -a <SecretId> -s <SecretKey> -b <BucketName> -r <Region>

# 上传
coscmd upload -r ./ /
```

#### 3. 配置静态网站

在存储桶设置中：
- 开启静态网站功能
- 索引文档：index.html
- 错误文档：index.html（可选）

#### 4. 绑定域名（可选）

- 在自定义域名管理中绑定你的域名
- 配置DNS解析

---

### 方式三：使用腾讯云Serverless Web Function

#### 1. 准备函数代码

项目已经准备好了静态文件，可以直接部署。

#### 2. 部署

1. 访问 [Serverless控制台](https://console.cloud.tencent.com/scf)
2. 创建Web Function
3. 选择"本地上传文件夹"
4. 上传整个项目目录
5. 完成部署

---

## 📁 项目结构

```
通用技术刷题系统online/
├── index.html              # 主页面（原通用技术刷题系统.html）
├── 2021年A卷/              # 2021年A卷试题和图片
├── 2021年B卷/              # 2021年B卷试题和图片
├── 2022年A卷/              # 2022年A卷试题和图片
├── 2022年B卷/              # 2022年B卷试题和图片
├── 2023年A卷/              # 2023年A卷试题和图片
├── 2023年B卷/              # 2023年B卷试题和图片
├── 2024年A卷/              # 2024年A卷试题和图片
├── 2024年B卷/              # 2024年B卷试题和图片
├── package.json            # 项目配置文件
├── cloudbaserc.json        # CloudBase配置文件
├── .gitignore              # Git忽略文件
└── 部署说明.md             # 本文档
```

---

## 🔧 本地测试

在部署之前，建议先在本地测试：

```bash
# 方法1：使用 npm 脚本（推荐）
npm run dev

# 方法2：使用 Python
python -m http.server 8080

# 方法3：使用 PHP
php -S localhost:8080
```

然后访问 http://localhost:8080

---

## 💰 费用说明

### CloudBase 静态托管
- 免费额度：每月5GB存储，5GB流量
- 超出部分按量计费
- 适合个人学习和小规模使用

### COS 对象存储
- 免费额度：前6个月50GB标准存储，10GB外网下行流量/月
- 超出部分按量计费
- 适合大流量场景

---

## ⚙️ 配置说明

### cloudbaserc.json
这是 CloudBase 的配置文件，主要配置：
- `envId`: 环境ID（部署时自动替换）
- `outputPath`: 部署的源目录（当前为 `./`，即整个项目）
- `cloudPath`: 云端存储路径（根目录 `/`）
- `ignore`: 忽略上传的文件

### package.json
项目依赖和脚本配置：
- `dev`: 启动本地开发服务器
- `preview`: 预览模式
- `deploy`: 部署到CloudBase

---

## 🌐 自定义域名绑定

### CloudBase 绑定自定义域名

1. 进入 CloudBase 控制台
2. 选择你的环境
3. 进入"静态网站托管"
4. 点击"设置" → "域名管理"
5. 添加自定义域名
6. 配置 DNS 解析（CNAME 记录）

### 域名解析示例

```
类型: CNAME
主机记录: www (或 @)
记录值: <env-id>.tcloudbaseapp.com
TTL: 600
```

---

## 🔒 安全建议

1. **HTTPS配置**：腾讯云默认提供HTTPS，建议开启强制HTTPS
2. **访问控制**：可以配置IP黑白名单
3. **防盗链**：可以在COS中配置Referer白名单
4. **CDN加速**：建议开启CDN加速，提升访问速度

---

## 📝 常见问题

### Q1: 图片无法显示？
A: 确保所有试题文件夹都已上传，图片路径正确。检查浏览器控制台是否有404错误。

### Q2: 部署后页面空白？
A: 检查浏览器控制台错误信息，可能是CDN缓存问题，尝试清除缓存或使用无痕模式。

### Q3: 如何更新内容？
A: 重新执行部署命令即可，CloudBase会自动覆盖旧文件。

### Q4: 费用超标怎么办？
A: 可以配置CDN回源，或者升级到包年包月套餐。

---

## 📞 技术支持

- 腾讯云CloudBase文档：https://cloud.tencent.com/document/product/876
- 腾讯云COS文档：https://cloud.tencent.com/document/product/436
- 技术支持：https://cloud.tencent.com/document/product/876/19608

---

## 📜 更新日志

### v1.0.0 (2025-11-04)
- ✅ 初始版本
- ✅ 添加2021-2024年试题
- ✅ 支持腾讯云静态托管部署
- ✅ 创建完整部署文档

---

## 🎯 下一步计划

- [ ] 添加用户登录功能
- [ ] 保存做题记录
- [ ] 错题本功能
- [ ] 成绩统计分析
- [ ] 多端同步

---

祝你部署顺利！如有问题，欢迎反馈。

